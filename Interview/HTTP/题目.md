# 为什么要握三次，而不是两次或四次？

因为三次握手能确认客户端和服务端都有接收和发送数据的能力；两次不能确认客户端有接收能力，四次由太多了，浪费

# 为什么四次挥手需要四次，而不是三次

因为服务器需要连续发送两次给客户端，才能确认服务器确定需要断开连接了。第一次只是收到客户端的断开连接需求，中间还可以继续发送数据，第二次才是真正的断开。

# HTTP 缺点

1. 无状态。不会保留双方的接上下文信息。
   通过 cookie 和 token 等方式解决
2. 明文传输。
3. 队头阻塞问题
   - 开启长连接时，共用一个 TCP 连接，同一时刻只能处理一个请求
   - 后续的请求只能排队

# http3 的 QUIC 协议

1. 完美继承了 HTTP2、TLS 的优点
   1. HTTP2
      1. 头部压缩
      2. 丢包处理
      3. 流量控制
      4. 拥塞控制
   2. TLS
      1. 默认支持安全传输
2. 基于 UDP 构建的。
3. 避免 TCP 队头阻塞。TCP 的难题之一（一对一传输的，前面阻塞会导致后续请求全部阻塞）
   1. 多路复用。单个连接上支持多个独立的数据流
   2. 每个流直接互相独立
   3. 丢包处理
   4. 流优先级
4. 可靠性保证
   1. seq 确认机制。丢包处理
   2. 超时重传机制
   3. 增加了握手机制
   4. 多路复用

# keep-alive 的原理

> HTTP1.1 特性。保持链接持久化
> 可以在同一个连接上发送多个请求和响应，而无需每次都建立和关闭连接，从而减少了连接建立和关闭的开销。
